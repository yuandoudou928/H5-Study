<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>对象的遍历</title>
</head>

<body>
    <script>
        const arr = ['hello1', 'hello2', 'hello3'];

        for (const i of arr) {
            console.log("for...of遍历数组：" + i);
        }

        console.log("---------------");

        for (const i in arr) {
            console.log("for...in遍历数组：" + i);
        }

        console.log("---------------");

        var obj = {
            name: "张三",
            age: 24,
            info: {
                desc: "哇哈哈"
            }
        }


        for (const i in obj) {
            console.log("for...in遍历对象：" + i);
        }

        console.log("---------------");

        var mObj = {}
        for (const key in obj) {
            mObj[key] = obj[key];
        }

        console.log(JSON.stringify(obj));
        console.log(JSON.stringify(mObj));

        obj.info.desc = "么么哒";

        console.log("---------------");

        console.log(JSON.stringify(obj));
        console.log(JSON.stringify(mObj));

        const mObj1 = Object.assign({}, obj);

        console.log("---------------");

        console.log(JSON.stringify(mObj1));

        function deepCopy(newObj, oldObj) {
            for (const key in oldObj) {
                let item = oldObj[key];
                if (item instanceof Array) {
                    newObj[key] = [];
                    deepCopy(newObj[key], item);
                } else if (item instanceof Object) {
                    newObj[key] = {};
                    deepCopy(newObj[key], item);
                } else {
                    newObj[key] = item;
                }
            }
        }

        console.log("---------------");

        var mObj2 = {};
        deepCopy(mObj2, obj);

        console.log(JSON.stringify(obj));
        console.log(JSON.stringify(mObj2));

        obj.info.desc = "萨瓦迪卡";

        console.log("---------------");

        console.log(JSON.stringify(obj));
        console.log(JSON.stringify(mObj2));
    </script>
</body>

</html>